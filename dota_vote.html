<!DOCTYPE>
<html>
  <head>
    <meta charset="utf-8">
    <title>test</title>
    <style type="text/css">
        #show{
            display : flex;
            height: auto;
            width: 80%;
            margin-left: 10%;
            justify-content :center ;/*水平方向以容器中间对齐*/
            align-items : flex-end; /*垂直方向以容器底部对齐*/
            align-content : center;/*属性在当灵活容器内的各项没有占用交叉轴上所有可用的空间时对齐容器内的各项（垂直）*/
        }
    </style>
  </head>
<body>

  <table id="aqi-table">
  </table>
<div id="show" title="abc"></div>
</body>
<script type="text/javascript">
var dota = [//基本数据,格式为:英雄名字,第一轮得票数,英雄类型(1:力量,2:敏捷,3:智力),所属分区
    ["冰魂",1706744,3,1],
    ["巫妖",310292,3,1],
    ["钢背兽",2309387,1,1],
    ["酒仙",254125,1,1],
    ["哈斯卡",1988052,1,1],
    ["蝙蝠",1806560,3,1],
    ["克林克兹",2017342,2,1],
    ["杰奇洛",2064405,3,1],
    ["编织者",1676647,2,1],
    ["帕格纳",255726,3,1],
    ["末日",2071915,1,1],
    ["伐木机",968516,1,1],
    ["斯文",4411126,1,1],
    ["陈",117074,3,1],
    ["复仇之魂",1641718,2,1],
    ["狼人",370574,1,1],
    ["黑鸟",513520,3,1],
    ["谜团",1388936,3,1],
    ["全能",1857289,1,1],
    ["蜘蛛",196257,2,1],
    ["小强",1384932,2,2],
    ["夜魔",2016228,1,2],
    ["海明",2015740,1,2],
    ["神谕",594419,3,2],
    ["拉比克",3173810,3,2],
    ["德鲁伊",979932,2,2],
    ["昆卡",2449908,1,2],
    ["冰龙",999026,3,2],
    ["蓝胖",2270735,3,2],
    ["黑暗贤者",742619,3,2],
    ["混沌骑士",3132053,1,2],
    ["干扰者",1036533,3,2],
    ["火猫",5743639,2,2],
    ["大牛",501304,1,2],
    ["猛犸",1364952,2,2],
    ["帕克",2439042,3,2],
    ["沙王",2332975,1,2],
    ["小鹿",1672172,3,2],
    ["美杜莎",3407843,2,3],
    ["老鹿",796116,3,3],
    ["虚空",4354454,2,3],
    ["毒狗",460597,3,3],
    ["小小",3907990,1,3],
    ["兽王",668909,1,3],
    ["小Y",2234872,3,3],
    ["术士",1611407,3,3],
    ["巨魔",1700104,2,3],
    ["凤凰",2791000,1,3],
    ["潮汐",2343175,1,3],
    ["死亡先知",1404760,3,3],
    ["炼金",3180729,1,3],
    ["维萨吉",467882,3,3],
    ["小狗",3648156,1,3],
    ["老树",818242,1,3],
    ["龙骑士",3687654,1,3],
    ["人马",667831,1,3],
    ["尸王",2034889,1,3],
    ["阿特洛波斯",802618,3,3],
    ["亚巴顿",2202239,1,4],
    ["天怒",1174052,3,4],
    ["猴子",5377014,2,4],
    ["艾欧",6285782,1,4],
    ["先知",3046235,3,4],
    ["小娜迦",747948,2,4],
    ["发条",1750145,1,4],
    ["水人",2567862,2,4],
    ["戴泽",2175667,3,4],
    ["光法",602893,3,4],
    ["修补匠",3001444,3,4],
    ["剧毒",1075485,2,4],
    ["沉默",2467383,3,4],
    ["电狗",315562,2,4],
    ["毒龙",2627772,2,4],
    ["米波",1176234,2,4],
    ["露娜",3002498,2,4],
    ["剃刀",775717,2,4],
    ["圣堂",4359876,2,4],
    ["土猫",917488,1,4]
];
var dota1 = [
    ["屠夫",4579542,1,1],
    ["冰魂",995786,3,1],
    ["钢背兽",1603127,1,1],
    ["哈斯卡",722912,1,1],
    ["熊战士",1431104,2,1],
    ["杰奇洛",946749,3,1],
    ["蓝猫",2251761,3,1],
    ["编织者",914348,2,1],
    ["赏金",1168641,2,1],
    ["末日",740295,1,1],
    ["斯文",3305542,1,1],
    ["复仇之魂",655979,2,1],
    ["敌法",2479427,2,1],
    ["谜团",1388936,3,1],
    ["大鱼人",1288752,1,1],
    ["全能",969901,1,1],
    ["剑圣",3581923,2,2],
    ["夜魔",421851,1,2],
    ["海明",598366,1,2],
    ["拉比克",1969517,3,2],
    ["lion",1368105,3,2],
    ["昆卡",875373,1,2],
    ["小黑",1537316,2,2],
    ["蓝胖",821317,3,2],
    ["神牛",1786718,1,2],
    ["混沌骑士",767181,1,2],
    ["火猫",2507359,2,2],
    ["飞机",363822,2,2],
    ["力丸",2685510,2,2],
    ["帕克",2739832,3,2],
    ["NEC",1632357,3,2],
    ["沙王",639163,1,2],
    ["风行",3221737,3,3],
    ["美杜莎",1236616,2,3],
    ["虚空",2207946,2,3],
    ["小小",1427509,1,3],
    ["斧王",1563396,1,3],
    ["小Y",567425,3,3],
    ["米拉娜",1935158,2,3],
    ["凤凰",1391734,1,3],
    ["小鱼",3460472,2,3],
    ["潮汐",729721,1,3],
    ["炼金",971587,1,3],
    ["小狗",1752864,1,3],
    ["白牛",726040,1,3],
    ["龙骑士",1288014,1,3],
    ["幽鬼",2692027,2,3],
    ["尸王",561515,1,3],
    ["卡尔",4851083,3,4],
    ["亚巴顿",484255,1,4],
    ["艾欧",4275744,1,4],
    ["先知",1028638,3,4],
    ["女王",1660013,3,4],
    ["水人",846688,2,4],
    ["巫医",1394864,3,4],
    ["戴泽",701682,3,4],
    ["火枪",1176814,2,4],
    ["修补匠",1412559,3,4],
    ["沉默",1692463,3,4],
    ["毒龙",1603702,2,4],
    ["露娜",1228545,2,4],
    ["血魔",598856,2,4],
    ["圣堂",2097233,2,4],
    ["骷髅王",2404695,1,4]
];
var dota2 = [
    ["屠夫",6652495,1,1],
    ["钢背兽",2217239,1,1],
    ["熊战士",1604833,2,1],
    ["蓝猫",3702872,3,1],
    ["赏金",1360007,2,1],
    ["斯文",4760724,1,1],
    ["敌法",3634613,2,1],
    ["大鱼人",1522027,1,1],
    ["剑圣",5709245,2,2],
    ["拉比克",3167274,3,2],
    ["lion",2079385,3,2],
    ["小黑",2904540,2,2],
    ["神牛",4258382,1,2],
    ["火猫",5168564,2,2],
    ["帕克",2261249,3,2],
    ["NEC",3272378,3,2],
    ["风行",4333886,3,3],
    ["虚空",2103701,2,3],
    ["斧王",1606348,1,3],
    ["米拉娜",3035811,2,3],
    ["小鱼",4683243,2,3],
    ["小狗",1483187,1,3],
    ["龙骑士",1252191,1,3],
    ["幽鬼",3578678,2,3],
    ["卡尔",8461835,3,4],
    ["艾欧",10483678,1,4],
    ["女王",2644281,3,4],
    ["巫医",1739523,3,4],
    ["修补匠",2149543,3,4],
    ["沉默",1385377,3,4],
    ["露娜",1612422,2,4],
    ["骷髅王",3378712,1,4]
];
function sum(arr,type,talent,zone){//参数分别为传入数组名,需要的求和类型(1:全部求和,2:分区求和,3:英雄类型求和),英雄类型,分区
  switch(type){
    case 1:{
        var total=0;
        for(var i=0;i<arr.length;i++){
          total +=arr[i][1];
        }
        return total;
    }
    case 2:{
        var total=0;
        for(var i=0;i<arr.length;i++){
          if(arr[i][3]==zone){
            total+=arr[i][1];
          }
        }
        return total;
    }
     case 3:{
        var total=0;
        for(var i=0;i<arr.length;i++){
          if(arr[i][2]==talent){
            total+=arr[i][1];
          }
        }
        return total;
    }   
 }  
}
function max_dota(arr){
  var vote_number = arr[0][1];
  var id = 0;
  for(var i=0;i<arr.length;i++){
    if(vote_number < arr[i][1]){
      vote_number = arr[i][1];
      id = i;
    }
  }
  return id;
}
function min_dota(arr){
  var vote_number = arr[0][1];
  var id = 0;
  for(var i=0;i<arr.length;i++){
    if(vote_number > arr[i][1]){
      vote_number = arr[i][1];
      id = i;
    }
  }
  return id;
}
function addtag(mes,num,co){
  var tag = document.getElementById("aqi-table");
  var text = "<td>"+mes+"</td><td>"+num+"</td>";
  var tr = document.createElement("tr");
  tr.style.color = co;
  tr.innerHTML = text;
  tag.appendChild(tr);
}
addtag("第一轮总投票数:",sum(dota,1));
addtag("第一轮总投票人数:",Math.round(sum(dota,1)/48));
addtag("第一轮英雄平均票数:",Math.round(sum(dota,1)/dota.length));
addtag("第一轮力量英雄得票数:",sum(dota,3,1));
addtag("第一轮敏捷英雄得票数:",sum(dota,3,2));
addtag("第一轮智力英雄得票数:",sum(dota,3,3));
addtag("第一轮第一区总投票数:",sum(dota,2,0,1));
addtag("第一轮第二区总投票数:",sum(dota,2,0,2));
addtag("第一轮第三区总投票数:",sum(dota,2,0,3));
addtag("第一轮第四区总投票数:",sum(dota,2,0,4));
addtag("第一轮得票最多的英雄:",dota[max_dota(dota)][0]+dota[max_dota(dota)][1]);
addtag("第一轮得票最少的英雄:",dota[min_dota(dota)][0]+dota[min_dota(dota)][1]);
addtag("第二轮总投票数:",sum(dota1,1),"orange");
addtag("第二轮总投票人数:",Math.round(sum(dota1,1)/48),"orange");
addtag("第二轮英雄平均票数:",Math.round(sum(dota1,1)/dota1.length),"orange");
addtag("第二轮力量英雄得票数:",sum(dota1,3,1),"orange");
addtag("第二轮敏捷英雄得票数:",sum(dota1,3,2),"orange");
addtag("第二轮智力英雄得票数:",sum(dota1,3,3),"orange");
addtag("第二轮第一区总投票数:",sum(dota1,2,0,1),"orange");
addtag("第二轮第二区总投票数:",sum(dota1,2,0,2),"orange");
addtag("第二轮第三区总投票数:",sum(dota1,2,0,3),"orange");
addtag("第二轮第四区总投票数:",sum(dota1,2,0,4),"orange");
addtag("第二轮得票最多的英雄:",dota1[max_dota(dota1)][0]+dota1[max_dota(dota1)][1],"orange");
addtag("第二轮得票最少的英雄:",dota1[min_dota(dota1)][0]+dota1[min_dota(dota1)][1],"orange");
addtag("第三轮总投票数:",sum(dota2,1),"red");
addtag("第三轮总投票人数:",Math.round(sum(dota2,1)/48),"red");
addtag("第三轮英雄平均票数:",Math.round(sum(dota2,1)/dota2.length),"red");
addtag("第三轮力量英雄得票数:",sum(dota2,3,1),"red");
addtag("第三轮敏捷英雄得票数:",sum(dota2,3,2),"red");
addtag("第三轮智力英雄得票数:",sum(dota2,3,3),"red");
addtag("第三轮第一区总投票数:",sum(dota2,2,0,1),"red");
addtag("第三轮第二区总投票数:",sum(dota2,2,0,2),"red");
addtag("第三轮第三区总投票数:",sum(dota2,2,0,3),"red");
addtag("第三轮第四区总投票数:",sum(dota2,2,0,4),"red");
addtag("第三轮得票最多的英雄:",dota2[max_dota(dota2)][0]+dota2[max_dota(dota2)][1],"red");
addtag("第三轮得票最少的英雄:",dota2[min_dota(dota2)][0]+dota2[min_dota(dota2)][1],"red");
var d = document.getElementById("show");
var text = "";var color_n = 0;
var color=["red","green","orange","yellow","blue"];
for(var i=0;i<dota.length;i++){
    color_n ++; 
    text += "<div title=\""+dota[i][0]+"得票数:"+dota[i][1]+"\" style=\"height:"+dota[i][1]/10000+"px;width:20px;background-color:"+color[color_n%5]+";\"></div>";
}

       
d.innerHTML = text;
</script>
</html>